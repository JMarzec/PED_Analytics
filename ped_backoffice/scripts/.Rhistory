url_xml = paste('http://www.ebi.ac.uk/arrayexpress/xml/v3/experiments?pmid=12907009',sep='')
xml_file_name = paste(pmid,'.xml',sep = '')
pmid = '12907009'
xml_file_name = paste(pmid,'.xml',sep = '')
try(download.file(url_xml,destfile = paste(xml_dir,xml_file_name,sep = '/'), method = 'auto',cacheOK = FALSE,quiet = TRUE))
try(download.file(url_xml,destfile = xml_file_name, method = 'auto',cacheOK = FALSE,quiet = TRUE))
xml_stream <- xmlParse(xml_file_name,sep = '/'))
xml_stream <- xmlParse(xml_file_name,sep = '/')
library(XML)
xml_stream <- xmlParse(xml_file_name,sep = '/')
xml_stream <- xmlParse(xml_file_name)
xml_data <- xmlToList(xml_stream)
xml_data$experiment$accession
xml_data$experiment
xml_data <- xmlToList(xml_stream, data.frame())
xml_data <- xmlToList(xml_stream, data.frame
)
xml_data$experiment$secondaryaccession
xml_data$experiment$id
xml_data$experiment[2]
xml_data
xml_data[[1]]
len(xml_data)
size(xml_data)
xml_data[[2]]$experiment
xml_data[[1]]$accession
xml_data[[2]]$accession
xml_data[[3]]$accession
size(xml_data)
nrow(xml_data)
nrow()
nrow(xml_data)
length(xml_data)
array_express_acc = array()
for (i in range(1:length(xml_data))) {
array_express_acc[] <- tryCatch(
{
xml_data[[i]]$accession
},
error=function(cond) {
return(NA)
}
)
}
array_express_acc
for (i in range(1:length(xml_data))) {
tryCatch(
{
array_express_acc[i] = xml_data[[i]]$accession
},
error=function(cond) {
array_express_acc[i] = NA
}
)
}
for (i in range(1:length(xml_data))) {
print(i)
tryCatch(
{
array_express_acc[i] = xml_data[[i]]$accession
},
error=function(cond) {
array_express_acc[i] = NA
}
)
}
array_express_acc
for (i in range(1:length(xml_data))) {
array_express_acc[i] = xml_data[[i]]$accession
}
xml_data[[3]]$accession
for (i in range(1:length(xml_data))) {
tryCatch(
{
array_express_acc[i] = xml_data[[i]]$accession
}
}
for (i in range(1:length(xml_data))) {
tryCatch(
{
array_express_acc[i] = xml_data[[i]]$accession
})
}
for (i in range(1:length(xml_data))) {
try(array_express_acc[i] = xml_data[[i]]$accession)
}
for (i in range(1:length(xml_data))) {
try(array_express_acc[i] = xml_data[[i]]$accession)
}
try(array_express_acc[i] = xml_data[[i]]$accession)
array_express_acc[i] <- xml_data[[i]]$accession)
try(array_express_acc[i] <- xml_data[[i]]$accession)
for (i in range(1:length(xml_data))) {
command = tryCatch(
{
array_express_acc[i] = xml_data[[i]]$accession
},
error=function(cond) {
array_express_acc[i] = NA
}
)
}
for (i in range(1:length(xml_data))) {
array_express_acc[i] = tryCatch(
{
xml_data[[i]]$accession
},
error=function(cond) {
return(NA)
}
)
}
for (i in 1:length(xml_data)) {
array_express_acc[i] = tryCatch(
{
xml_data[[i]]$accession
},
error=function(cond) {
return(NA)
}
)
}
for (acc in array_express_acc) {
print(acc)}
